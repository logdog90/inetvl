!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/select */ \"./src/js/modules/select.js\");\n\nvar select = new _modules_select__WEBPACK_IMPORTED_MODULE_0__[\"Select\"]('#select', {\n  placeholder: 'Владивосток',\n  selectedId: '1',\n  data: [{\n    id: '1',\n    value: 'Владивосток'\n  }, {\n    id: '2',\n    value: 'Артём'\n  }, {\n    id: '3',\n    value: 'Уссурийск'\n  }, {\n    id: '4',\n    value: 'Находка'\n  }],\n  onSelect: function onSelect(item) {\n    console.log('Selected Item', item);\n  }\n});\nwindow.s = select;\n\n//# sourceURL=webpack:///./src/js/main.js?")},"./src/js/modules/select.js":
/*!**********************************!*\
  !*** ./src/js/modules/select.js ***!
  \**********************************/
/*! exports provided: Select */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return Select; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar getTemplate = function getTemplate() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var placeholder = arguments.length > 1 ? arguments[1] : undefined;\n  var selectedId = arguments.length > 2 ? arguments[2] : undefined;\n  var text = placeholder || \'Выберите город\';\n  var items = data.map(function (item) {\n    var cls = \'\';\n\n    if (item.id === selectedId) {\n      text = item.value;\n      cls = \'selected\';\n    }\n\n    return "\\n            <li class=\\"select__item ".concat(cls, "\\" data-type=\\"item\\" data-id=\\"").concat(item.id, "\\">").concat(item.value, "</li>\\n        ");\n  });\n  return "\\n        <div class=\\"select__backdrop\\" data-type=\\"backdrop\\"></div>\\n        <div class=\\"select__input\\" data-type=\\"input\\">\\n            <span data-type=\\"value\\">".concat(text, "</span>\\n        </div>\\n        <div class=\\"select__dropdown\\">\\n            <ul class=\\"select__list\\">").concat(items.join(\'\'), "</ul>\\n        </div>\\n    ");\n};\n\nvar Select = /*#__PURE__*/function () {\n  function Select(selector, options) {\n    _classCallCheck(this, Select);\n\n    this.$el = document.querySelector(selector);\n    this.options = options;\n    this.selectedId = options.selectedId;\n    this.render();\n    this.setup();\n  }\n\n  _createClass(Select, [{\n    key: "render",\n    value: function render() {\n      var _this$options = this.options,\n          placeholder = _this$options.placeholder,\n          data = _this$options.data;\n      this.$el.classList.add(\'select\');\n      this.$el.classList.add(\'header-top__select\');\n      this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\n    }\n  }, {\n    key: "setup",\n    value: function setup() {\n      this.clickHandler = this.clickHandler.bind(this);\n      this.$el.addEventListener(\'click\', this.clickHandler);\n      this.$value = this.$el.querySelector(\'[data-type="value"]\');\n    }\n  }, {\n    key: "clickHandler",\n    value: function clickHandler(e) {\n      var type = e.target.dataset.type;\n\n      if (type === \'click\') {\n        this.toggle();\n      } else if (type === \'value\') {\n        this.toggle();\n      } else if (type === \'input\') {\n        this.toggle();\n      } else if (type === \'item\') {\n        var id = e.target.dataset.id;\n        this.select(id);\n      } else if (type === \'backdrop\') {\n        this.close();\n      }\n    }\n  }, {\n    key: "select",\n    value: function select(id) {\n      this.selectedId = id;\n      this.$value.textContent = this.current.value;\n      this.$el.querySelectorAll("[data-type=\\"item\\"]").forEach(function (el) {\n        el.classList.remove(\'selected\');\n      });\n      this.$el.querySelector("[data-id=\\"".concat(id, "\\"]")).classList.add(\'selected\');\n      this.options.onSelect ? this.options.onSelect(this.current) : null;\n      this.close();\n    }\n  }, {\n    key: "toggle",\n    value: function toggle() {\n      return this.isOpen ? this.close() : this.open();\n    }\n  }, {\n    key: "open",\n    value: function open() {\n      this.$el.classList.add(\'select--open\');\n    }\n  }, {\n    key: "close",\n    value: function close() {\n      this.$el.classList.remove(\'select--open\');\n    }\n  }, {\n    key: "destroy",\n    value: function destroy() {\n      this.$el.classList.remove(\'click\', this.clickHandler);\n      this.$el.innerHTML = \'\';\n    }\n  }, {\n    key: "isOpen",\n    get: function get() {\n      return this.$el.classList.contains(\'select--open\');\n    }\n  }, {\n    key: "current",\n    get: function get() {\n      var _this = this;\n\n      return this.options.data.find(function (item) {\n        return item.id === _this.selectedId;\n      });\n    }\n  }]);\n\n  return Select;\n}();\n\n//# sourceURL=webpack:///./src/js/modules/select.js?')},0:
/*!*********************************************************!*\
  !*** multi ./src/js/main.js ./src/js/modules/select.js ***!
  \*********************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('__webpack_require__(/*! D:\\Layout\\MyProject\\InWork\\inetvl\\src\\js\\main.js */"./src/js/main.js");\nmodule.exports = __webpack_require__(/*! D:\\Layout\\MyProject\\InWork\\inetvl\\src\\js\\modules\\select.js */"./src/js/modules/select.js");\n\n\n//# sourceURL=webpack:///multi_./src/js/main.js_./src/js/modules/select.js?')}});
//# sourceMappingURL=main.js.map
